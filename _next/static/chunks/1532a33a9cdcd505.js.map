{"version":3,"sources":["turbopack:///[project]/app/horoscope/HoroscopeClient.tsx","turbopack:///[project]/lib/horoscope.ts"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport { generateHoroscope, Period } from \"../../lib/horoscope\";\n\nexport default function HoroscopeClient() {\n  const today = new Date().toISOString().slice(0, 10);\n  const [name, setName] = useState(\"\");\n  const [birthDate, setBirthDate] = useState(today);\n  const [period, setPeriod] = useState<Period>(\"day\");\n  const [result, setResult] = useState<any | null>(null);\n\n  function onGenerate() {\n    try {\n      const r = generateHoroscope(birthDate, name || undefined, period);\n      setResult(r);\n    } catch (err) {\n      setResult({ error: String(err) });\n    }\n  }\n\n  return (\n    <div>\n      <div>\n        <label>Name (optional)</label>\n        <input value={name} onChange={(e) => setName(e.target.value)} className=\"border border-b-2\" />\n      </div>\n      <div>\n        <label>Birth date</label>\n        <input type=\"date\" value={birthDate} onChange={(e) => setBirthDate(e.target.value)} className=\"border border-b-2\" />\n      </div>\n      <div>\n        <label>Period</label>\n        <div>\n          <label><input type=\"radio\" name=\"period\" checked={period === 'day'} onChange={() => setPeriod('day')} /> Day</label>\n          <label><input type=\"radio\" name=\"period\" checked={period === 'week'} onChange={() => setPeriod('week')} /> Week</label>\n          <label><input type=\"radio\" name=\"period\" checked={period === 'month'} onChange={() => setPeriod('month')} /> Month</label>\n        </div>\n      </div>\n      <div>\n        <button className=\"bg-amber-300 hover:bg-amber-400\" onClick={onGenerate}>Generate</button>\n      </div>\n\n      {result ? (\n        <div>\n          {result.error ? (\n            <div>Error: {result.error}</div>\n          ) : (\n            <>\n              <div>{result.sign} {result.planet}</div>\n              <div>{result.text}</div>\n              <div>Lucky number: {result.luckyNumber} · Period: {result.periodLabel}</div>\n            </>\n          )}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","// Lightweight astrology utilities — no external libs\n// Provides sun-sign detection and deterministic horoscopes for day/week/month\n\nfunction hashString(s: string) {\n  let h = 2166136261 >>> 0;\n  for (let i = 0; i < s.length; i++) {\n    h ^= s.charCodeAt(i);\n    h = Math.imul(h, 16777619) >>> 0;\n  }\n  return h;\n}\nfunction mulberry32(a: number) {\n  return function () {\n    let t = (a += 0x6D2B79F5);\n    t = Math.imul(t ^ (t >>> 15), t | 1);\n    t ^= t + Math.imul(t ^ (t >>> 7), t | 61);\n    return ((t ^ (t >>> 14)) >>> 0) / 4294967296;\n  };\n}\n\nexport function getSunSign(dateInput: string | Date): string {\n  const d = typeof dateInput === 'string' ? new Date(dateInput) : new Date(dateInput);\n  const m = d.getUTCMonth() + 1; // 1-12\n  const day = d.getUTCDate();\n\n  const ranges = [\n    { sign: 'Capricorn', start: [12, 22], end: [1, 19] },\n    { sign: 'Aquarius', start: [1, 20], end: [2, 18] },\n    { sign: 'Pisces', start: [2, 19], end: [3, 20] },\n    { sign: 'Aries', start: [3, 21], end: [4, 19] },\n    { sign: 'Taurus', start: [4, 20], end: [5, 20] },\n    { sign: 'Gemini', start: [5, 21], end: [6, 20] },\n    { sign: 'Cancer', start: [6, 21], end: [7, 22] },\n    { sign: 'Leo', start: [7, 23], end: [8, 22] },\n    { sign: 'Virgo', start: [8, 23], end: [9, 22] },\n    { sign: 'Libra', start: [9, 23], end: [10, 22] },\n    { sign: 'Scorpio', start: [10, 23], end: [11, 21] },\n    { sign: 'Sagittarius', start: [11, 22], end: [12, 21] },\n  ];\n\n  for (const r of ranges) {\n    const [sM, sD] = r.start;\n    const [eM, eD] = r.end;\n    let inRange = false;\n    if (sM === eM) {\n      inRange = m === sM && day >= sD && day <= eD;\n    } else if (sM > eM) {\n      // wrap around year end\n      inRange = (m === sM && day >= sD) || (m === eM && day <= eD) || (m > sM || m < eM);\n    } else {\n      inRange = (m > sM || (m === sM && day >= sD)) && (m < eM || (m === eM && day <= eD));\n    }\n    if (inRange) return r.sign;\n  }\n  return 'Unknown';\n}\n\nconst planetForSign: Record<string, string> = {\n  Aries: '♂',\n  Taurus: '♀',\n  Gemini: '☿',\n  Cancer: '☾',\n  Leo: '☉',\n  Virgo: '☿',\n  Libra: '♀',\n  Scorpio: '♇',\n  Sagittarius: '♃',\n  Capricorn: '♄',\n  Aquarius: '♅',\n  Pisces: '♆',\n};\n\nfunction pick(rnd: () => number, arr: string[]) {\n  return arr[Math.floor(rnd() * arr.length)];\n}\n\nfunction startOfWeekIso(date: Date) {\n  // compute Monday of the week (ISO)\n  const d = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));\n  const day = d.getUTCDay(); // 0 Sun .. 6 Sat\n  const diff = (day + 6) % 7; // days since Monday\n  d.setUTCDate(d.getUTCDate() - diff);\n  return d.toISOString().slice(0, 10);\n}\n\nexport type Period = 'day' | 'week' | 'month';\n\nexport function generateHoroscope(birthDateIso: string, name?: string, period: Period = 'day', seedDate?: string) {\n  const date = seedDate ? new Date(seedDate) : new Date();\n\n  let periodSeed: string;\n  let label: string;\n  if (period === 'day') {\n    periodSeed = date.toISOString().slice(0, 10);\n    label = periodSeed;\n  } else if (period === 'week') {\n    const monday = startOfWeekIso(date);\n    periodSeed = monday;\n    const mondayDate = new Date(monday + 'T00:00:00Z');\n    const sunday = new Date(mondayDate);\n    sunday.setUTCDate(sunday.getUTCDate() + 6);\n    label = `${monday} — ${sunday.toISOString().slice(0, 10)}`;\n  } else {\n    const ym = date.toISOString().slice(0, 7); // YYYY-MM\n    periodSeed = ym;\n    label = ym;\n  }\n\n  const baseSeed = `${birthDateIso}|${name || ''}|${period}|${periodSeed}`;\n  const rnd = mulberry32(hashString(baseSeed));\n\n  const sign = getSunSign(birthDateIso);\n  const planet = planetForSign[sign] ?? '';\n\n  const intros = [\n    `A reflective energy accompanies you${name ? `, ${name}` : ''}.`,\n    'Circumstances invite a fresh perspective.',\n    'Your focus will bring subtle but useful shifts.',\n    'This period favors steady, considered steps.',\n  ];\n  const actions = [\n    'Prioritize rest and recovery when possible.',\n    'Reach out to a supportive contact.',\n    'Break a large task into small clear steps.',\n    'Take a moment to plan instead of rushing.',\n  ];\n  const outcomes = [\n    'Progress builds quietly beneath the surface.',\n    'An opportunity appears from an unexpected quarter.',\n    'Consistency will compound into visible gains.',\n    'A resolved conversation brings relief.',\n  ];\n\n  const text = `${pick(rnd, intros)} ${pick(rnd, actions)} ${pick(rnd, outcomes)}`;\n  const luckyNumber = 1 + Math.floor(rnd() * 99);\n\n  return { sign, planet, text, luckyNumber, period, periodLabel: label };\n}\n\nexport function generateDailyHoroscope(birthDateIso: string, name?: string) {\n  return generateHoroscope(birthDateIso, name, 'day');\n}\n"],"names":[],"mappings":"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"}